struct %main.base_type%*%main.type_name%_get_gcd(struct Stack*restrict output_stack, struct Stack*restrict local_stack, struct %main.base_type%*a, struct %main.base_type%*b#main.has_misc_parameter, struct %misc.base_type%*%main.misc_name%#)
{
    void*local_stack_savepoint = local_stack->cursor;
    while (!%main.base_type_name%_equals(b, %main.additive_identity%))
    {
        struct %main.base_type%*c = b;
        struct %main.base_type%Division division;
        %main.type_name%_euclidean_divide(local_stack, output_stack, &division, a, b#main.has_misc_parameter, %main.misc_name%#);
        b = division.remainder;
        a = c;
    }
    a = %main.base_type_name%_copy(output_stack, a);
    local_stack->cursor = local_stack_savepoint;
    return a;
}